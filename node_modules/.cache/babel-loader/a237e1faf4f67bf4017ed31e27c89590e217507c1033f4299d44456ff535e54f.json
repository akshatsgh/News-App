{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akshatsingh/Desktop/lol/react-news-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akshatsingh/Desktop/lol/react-news-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/akshatsingh/Desktop/lol/react-news-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";var useNewsData=function useNewsData(category,searchTerm){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newsData=_useState2[0],setNewsData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){function fetchNewsData(){return _fetchNewsData.apply(this,arguments);}function _fetchNewsData(){_fetchNewsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var apiKey,apiUrl,categoryParam,searchParam,url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);apiKey=process.env.REACT_APP_GNEWS_API_KEY;apiUrl=\"https://gnews.io/api/v4/top-headlines?token=\".concat(apiKey,\"&lang=en\");categoryParam=category?\"&topic=\".concat(category):\"\";searchParam=searchTerm?\"&q=\".concat(searchTerm):\"\";url=apiUrl+categoryParam+searchParam;_context.next=9;return fetch(url);case 9:response=_context.sent;_context.next=12;return response.json();case 12:data=_context.sent;setNewsData(data.articles);setLoading(false);_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);setError(_context.t0);setLoading(false);case 21:case\"end\":return _context.stop();}},_callee,null,[[0,17]]);}));return _fetchNewsData.apply(this,arguments);}fetchNewsData();},[category,searchTerm]);return{newsData:newsData,loading:loading,error:error};};export default useNewsData;","map":{"version":3,"names":["useState","useEffect","useNewsData","category","searchTerm","_useState","_useState2","_slicedToArray","newsData","setNewsData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","fetchNewsData","_fetchNewsData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","apiKey","apiUrl","categoryParam","searchParam","url","response","data","wrap","_callee$","_context","prev","next","process","env","REACT_APP_GNEWS_API_KEY","concat","fetch","sent","json","articles","t0","stop"],"sources":["/Users/akshatsingh/Desktop/lol/react-news-app/src/hooks/useNewsData.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst useNewsData = (category, searchTerm) => {\n  const [newsData, setNewsData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchNewsData() {\n      try {\n        setLoading(true);\n\n        const apiKey = process.env.REACT_APP_GNEWS_API_KEY;\n        const apiUrl = `https://gnews.io/api/v4/top-headlines?token=${apiKey}&lang=en`;\n        const categoryParam = category ? `&topic=${category}` : \"\";\n        const searchParam = searchTerm ? `&q=${searchTerm}` : \"\";\n        const url = apiUrl + categoryParam + searchParam;\n        const response = await fetch(url);\n        const data = await response.json();\n\n        setNewsData(data.articles);\n        setLoading(false);\n      } catch (error) {\n        setError(error);\n        setLoading(false);\n      }\n    }\n\n    fetchNewsData();\n  }, [category, searchTerm]);\n\n  return { newsData, loading, error };\n};\n\nexport default useNewsData;\n"],"mappings":"yZAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,QAAQ,CAAEC,UAAU,CAAK,CAC5C,IAAAC,SAAA,CAAgCL,QAAQ,CAAC,EAAE,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA8BV,QAAQ,CAAC,IAAI,CAAC,CAAAW,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAA0Bd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtBd,SAAS,CAAC,UAAM,SACC,CAAAiB,aAAaA,CAAA,SAAAC,cAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,eAAA,EAAAA,cAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA5B,SAAAC,QAAA,MAAAC,MAAA,CAAAC,MAAA,CAAAC,aAAA,CAAAC,WAAA,CAAAC,GAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEIvB,UAAU,CAAC,IAAI,CAAC,CAEVa,MAAM,CAAGY,OAAO,CAACC,GAAG,CAACC,uBAAuB,CAC5Cb,MAAM,gDAAAc,MAAA,CAAkDf,MAAM,aAC9DE,aAAa,CAAGzB,QAAQ,WAAAsC,MAAA,CAAatC,QAAQ,EAAK,EAAE,CACpD0B,WAAW,CAAGzB,UAAU,OAAAqC,MAAA,CAASrC,UAAU,EAAK,EAAE,CAClD0B,GAAG,CAAGH,MAAM,CAAGC,aAAa,CAAGC,WAAW,CAAAM,QAAA,CAAAE,IAAA,SACzB,CAAAK,KAAK,CAACZ,GAAG,CAAC,QAA3BC,QAAQ,CAAAI,QAAA,CAAAQ,IAAA,CAAAR,QAAA,CAAAE,IAAA,UACK,CAAAN,QAAQ,CAACa,IAAI,EAAE,SAA5BZ,IAAI,CAAAG,QAAA,CAAAQ,IAAA,CAEVlC,WAAW,CAACuB,IAAI,CAACa,QAAQ,CAAC,CAC1BhC,UAAU,CAAC,KAAK,CAAC,CAACsB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAElBlB,QAAQ,CAAAkB,QAAA,CAAAW,EAAA,CAAO,CACfjC,UAAU,CAAC,KAAK,CAAC,CAAC,yBAAAsB,QAAA,CAAAY,IAAA,MAAAtB,OAAA,iBAErB,UAAAN,cAAA,CAAAC,KAAA,MAAAC,SAAA,GAEDH,aAAa,EAAE,CACjB,CAAC,CAAE,CAACf,QAAQ,CAAEC,UAAU,CAAC,CAAC,CAE1B,MAAO,CAAEI,QAAQ,CAARA,QAAQ,CAAEI,OAAO,CAAPA,OAAO,CAAEI,KAAK,CAALA,KAAM,CAAC,CACrC,CAAC,CAED,cAAe,CAAAd,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}